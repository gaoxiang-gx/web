webpackJsonp([17],{KzYr:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.el-table[data-v-0deac32e] .warning-row {\n  background: #ffb7ba;\n}\n.el-table[data-v-0deac32e] .success-row {\n  background: #d6fdc1;\n}\n",""])},Q192:function(t,e,n){var a=n("KzYr");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("053b0f8c",a,!0)},kOZV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("woOf"),r=n.n(a),i=n("cAgV"),o=n("UgCr"),s=n("0xDb"),l={components:{},name:"inventoryExpend",directives:{waves:i.a},data:function(){return{tableKey:0,scrollTop:0,list:null,columnList:[],total:null,listLoading:!1,listQuery:{date_range:[Object(s.a)(new Date((new Date).getTime()-6048e5),"{y}-{m}-{d}"),Object(s.a)(new Date,"{y}-{m}-{d}")],page:1,page_size:20,sort:"-id"},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-6048e5),t.$emit("pick",[n,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-2592e6),t.$emit("pick",[n,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-7776e6),t.$emit("pick",[n,e])}}]}}},methods:{handleFilter:function(){this.listQuery.page=1,this.getList()},getTotal:function(t){var e=0,n=0;for(var a in t)e+=t[a].new_order_out+t[a].repurchase_order_out,n+=Math.abs(t[a].new_order_in)+Math.abs(t[a].repurchase_order_in);return Math.abs(n-e)},getformat:function(t){var e="";return e+=t.getFullYear()+"-",t.getMonth()+1<10?e+="0"+(t.getMonth()+1)+"-":e+=t.getMonth()+1+"-",t.getDate()<10?e+="0"+t.getDate():e+=t.getDate(),e},getDateArry:function(t,e){this.columnList=[];var n=t.split("-"),a=e.split("-"),r=new Date;r.setUTCFullYear(n[0],n[1]-1,n[2]);var i=new Date;i.setUTCFullYear(a[0],a[1]-1,a[2]);for(var o=r.getTime(),s=i.getTime(),l=o;l<=s;)this.columnList.push(this.getformat(new Date(parseInt(l))).toString()),l+=864e5;return this.columnList},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex,n=t.columnIndex;if(0===n||n===this.columnList.length+1)return e%2==0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}},tableRowClassName:function(t){t.row,t.column;var e=t.rowIndex,n=t.columnIndex;return 0!==n&&n!==this.columnList.length+1&&(e%2==1?"warning-row":e%2==0?"success-row":"")},getList:function(){var t=this;this.listLoading=!0,this.getDateArry(this.listQuery.date_range[0],this.listQuery.date_range[1]),Object(o.q)(this.listQuery).then(function(e){++t.tableKey,console.log(t.tableKey),t.list=t.getlist2(e.data),t.listLoading=!1})},getlist2:function(t){for(var e=0;e<t.length;e++)if(void 0!==t[e]){var n=r()({},t[e]);t.splice(e,0,n),e+=1}for(var a=0;a<t.length;a++)t[a].index=a;return t}},created:function(){this.getList()},deactivated:function(){this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop},activated:function(){window.scrollTo(0,this.scrollTop)}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container calendar-list-container"},[n("div",{staticClass:"filter-container"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-date-picker",{staticClass:"filter-item",attrs:{type:"daterange",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",align:"right","unlink-panels":"","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:t.handleFilter},model:{value:t.listQuery.date_range,callback:function(e){t.$set(t.listQuery,"date_range",e)},expression:"listQuery.date_range"}})],1),t._v(" "),n("el-col",{attrs:{span:4,offset:8}},[n("el-col",{attrs:{span:12}},[n("div",{staticStyle:{"background-color":"#d6fdc1",height:"20px"}})]),t._v(" "),n("el-col",{attrs:{span:12}},[n("p",{staticStyle:{padding:"0",margin:"0","text-align":"center",height:"20px","line-height":"20px","font-size":"12px"}},[t._v("购买")])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("div",{staticStyle:{"background-color":"#ffb7ba",height:"20px"}})]),t._v(" "),n("el-col",{attrs:{span:12}},[n("p",{staticStyle:{padding:"0",margin:"0","text-align":"center",height:"20px","line-height":"20px","font-size":"12px"}},[t._v("退货")])])],1)],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,"element-loading-text":"给我一点时间",border:"","span-method":t.objectSpanMethod,"cell-class-name":t.tableRowClassName,fit:""}},[n("el-table-column",{attrs:{align:"center",label:"商品名称","min-width":"200",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.product_good))])]}}])}),t._v(" "),t._l(t.columnList,function(e){return n("el-table-column",{key:Math.random(),attrs:{align:"center",label:e+"\n新粉 / 复购","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.index%2==0?n("span",[t._v(t._s(Math.abs(a.row.data[e].new_order_out))+" / "+t._s(Math.abs(a.row.data[e].repurchase_order_out)))]):n("span",[t._v(t._s(a.row.data[e].new_order_in)+" / "+t._s(a.row.data[e].repurchase_order_in))])]}}])})}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"合计","min-width":"150",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.getTotal(e.row.data)))])]}}])})],2)],1)])},staticRenderFns:[]},d=n("VU/8")(l,c,!1,function(t){n("Q192")},"data-v-0deac32e",null);e.default=d.exports}});