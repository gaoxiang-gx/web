webpackJsonp([21],{"/Pes":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("aA9S"),r=i.n(n),s=i("HzJ8"),a=i.n(s),o=i("lC5x"),l=i.n(o),d=i("J0Oq"),c=i.n(d),u=i("4YfN"),_=i.n(u),p=i("UgCr"),m=i("Z5Fx"),g=i("R4NY"),h=i("y9bL"),v=i("cAgV"),f=i("851T"),b=i.n(f),y=(i("LKrb"),i("zgrV")),x=i("9rMa"),w=(i("0xDb"),{name:"ordersManage",components:{Multiselect:b.a},directives:{waves:v.a},data:function(){return{tableLoading:"",scrollTop:0,ifExpandAll:!1,tableKey:0,tableKey2:0,tableKey3:1,list:[],list1:null,total:null,total1:null,listLoading:!1,chooseId:void 0,listQuery:{date_range:"",created_at:"",page:1,page_size:20,weixin_fans_address_receive_name:"",weixin_fans_address_phone:"",sort:"-delivered_at",orders_unique_id:"",orders_logistics_number:"",status:"",remark:""},props:{value:"area_number",label:"area_name",children:"children"},btnLoading:!1,btnDisabled:!0,productDeliverExtraOptions:[],productDeliverExtraLoading:!1,productDeliverOptions:[],queryLogisticsTypeOptions:[],queryLogisticsTypeLoading:!1,importanceOptions:[1,2,3],sortOptions:[{label:"按ID升序列",key:"+id"},{label:"按ID降序",key:"-id"}],statusOptions:[{key:2,label:"待发货"},{key:3,label:"发货中"},{key:4,label:"断货中"},{key:6,label:"已拒收"},{key:8,label:"已退回"},{key:9,label:"已废弃"}],expandList:[],temp:{id:void 0,orders_unique_id:"",support_user_account_id:void 0,product_weixin_id:void 0,product_weixin_fans_id:void 0,product_weixin_fans_address_id:void 0,price_total:void 0,actual_pay:0,status:1,deliver_date:new Date,orders_items:[],support_member:{id:void 0,user_id:void 0,nickname:"",head_img:"",user_account_type_id:void 0,user_account_group_id:void 0,user_account_role_id:void 0,status:void 0},product_weixin:{id:void 0,product_id:void 0,promotion_user_account_id:void 0,support_user_account_id:void 0,promotion_channel_id:void 0,weixin_nickname:"",weixin_account:"",phone:"",qq:"",promotion_channel:{id:void 0,channel_name:""},product_goods:{id:void 0,goods_name:"",price:void 0,stock:void 0}},product_weixin_fans_address:{id:void 0,product_weixin_fans_id:void 0,city_name:"",district_name:"",province_name:"",receive_name:"",phone:"",postcode:"",address:"",remark:""},product_weixin_fans:{id:void 0,product_weixin_id:void 0,weixin_account:"",weixin_nickname:"",default_address_id:void 0,created_at:""},orders_remarks:[],orders_payment:{id:void 0,orders_id:void 0,payment_total:void 0,status:1,orders_payment_items:[]},orders_logistics:{id:void 0,logistics_type_id:void 0,logistics_name:"",logistics_number:"",orders_logistics_type:{code:""}}},tempOrderRemark:{id:void 0,orders_id:void 0,user_account_id:void 0,user_account_type_id:void 0,remark:"",created_at:""},dialogStatus:"",textMap:{update:"编辑",create:"创建"},innerList2:null,innerTotal2:null,innerTableKey2:2,innerTableTitle2:"",innerListQuery2:{page:1,page_size:5,product_id:void 0,sort:"-id"},innerTemp2:{id:void 0,product:void 0,number:""},innerListLoading2:!1,innerTableVisible2:!1,innerDialogFormVisible2:!1,innerRules2:{remark:[{required:!0,message:"输入备注信息内容",trigger:"change"}]},innerListLoading1:!1,innerListLoading3:!1,innerTableVisible3:!1,innerTableTitle3:"",innerTableKey3:3,innerList3:null,innerTotal3:null,innerListQuery3:{page:1,page_size:10,sort:"-id",orders_id:void 0},innerTemp3:{id:void 0,warehouse_id:void 0,warehouse_logistics_extra_id:void 0,warehouse_logistics_extra:void 0,logistics_type_id:void 0,logistics_type_code:"",logistics_number:"",dest_code:"",dest_extra_code:""},innerDialogFormVisible3:!1,innerRules3:{template_name:[{required:!0,message:"请正确填写模板名称",trigger:"change"}],template_code:[{required:!0,message:"请正确填写模板内容",trigger:"change"}]},logisticsTypeOptions:[],if_deleted:"deleted-p",publicImageUrl:"",imageDialogVisible:!1,today_orders:0,need_delivery:0,pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-6048e5),e.$emit("pick",[i,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-2592e6),e.$emit("pick",[i,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-7776e6),e.$emit("pick",[i,t])}}]},sf_monthly_account:"",innerTableTitle8:"上传物流单号Excel",innerTableKey8:8,innerTableVisible8:!1,buttonInnerCreate8Loading:!1,baseUrl:"https://warehouse.api.7055.net.cn/api/orders/uploadOrdersLogisticsExcel",uploadHeaders:{authorization:this.$store.state.user.token},innerListLoading8:!1,innerList8:null,fileList:[],hideTableHeader:!1,tabSelection:"2",needSelectExtra:!1,logisticsDialogLoading:!1,isIndeterminate:!1,checkAll:!1,ordersOptions:[],checkedOrders:[],innerDialogFormVisible9:!1,sum_logistics_type_id:void 0,sum_logistics_type_code:void 0,sum_warehouse_extra_id:void 0,sum_warehoue_extra:void 0,sumDisabled:!0,sumTotalTask:0,sumRemainTask:0,sumSuccessTask:0,sumFailedTask:0,innerDialogFormVisible10:!1,newScan:!0,scanStatus:""}},computed:_()({sumTaskPercentage:function(){var e=0;return this.sumTotalTask>0&&(e=Math.round((this.sumTotalTask-this.sumRemainTask)/this.sumTotalTask*1e4)/100),e}},Object(x.b)(["user_account_id","roles"])),filters:{orderStatusFilter:function(e){return{0:"info",1:"info",2:"warning",3:"success",4:"danger",5:"success",6:"danger",7:"success",8:"danger",9:"danger"}[e]},orderStatusTranslator:function(e){return{0:"无效订单",1:"未确认",2:"待发货",3:"发货中",4:"断货中",5:"已签收",6:"已拒收",7:"已完成",8:"已退回",9:"废弃"}[e]},logisticsNumberImportStatusFilter:function(e){return{0:"info",1:"success",2:"danger"}[e]},logisticsNumberImportStatusTranslator:function(e){return{0:"未确认",1:"已导入",2:"导入失败"}[e]}},created:function(){var e=this;document.onkeydown=function(t){var i=window.event.keyCode;(13===i||i>=48&&i<=57||i>=65&&i<=90)&&(!0===e.newScan&&(e.listQuery.orders_logistics_number=""),e.newScan=!1,13===i?(e.scanCode(),e.newScan=!0):e.listQuery.orders_logistics_number+=String.fromCharCode(i),console.log(e.listQuery.orders_logistics_number),console.log(i))}},methods:{scanCode:function(){var e=this;return c()(l.a.mark(function t(){var i,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.list=[],t.prev=1,t.next=4,Object(m.u)(e.listQuery);case 4:if(i=t.sent,e.list=i.data.data,!(i.data.data.length<=0)){t.next=10;break}return e.scanStatus="warning",e.$message({type:"error",message:"没有相关订单"}),t.abrupt("return");case 10:if(2===(n=i.data.data[0]).status){t.next=15;break}return e.scanStatus="error",e.$message({type:"error",message:"订单状态错误"}),t.abrupt("return");case 15:return t.next=17,Object(m.l)({orders_id:n.id,is_empty:0});case 17:e.list[0].status=3,e.scanStatus="success",t.next=25;break;case 21:t.prev=21,t.t0=t.catch(1),e.scanStatus="error",e.$message({type:"error",message:"订单状态错误"});case 25:case"end":return t.stop()}},t,e,[[1,21]])}))()},createInnerData8:function(){var e=this;return c()(l.a.mark(function t(){var i,n,r,s,o,d,c,u,_;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.buttonInnerCreate8Loading=!0,i=!0,n=!1,r=void 0,t.prev=4,s=a()(e.innerList8);case 6:if(i=(o=s.next()).done){t.next=29;break}return d=o.value,c={},c.orders_unique_id=d.orders_unique_id,c.logistics_type_id=d.logistics_type_id,c.logistics_number=d.orders_logistics_number,t.prev=12,t.next=15,Object(m.I)(c);case 15:return u=t.sent,t.next=18,Object(m.l)({orders_id:u.data.orders_id,is_empty:0});case 18:d.status=1,t.next=24;break;case 21:t.prev=21,t.t0=t.catch(12),d.status=2;case 24:_=e.innerList8.indexOf(d),e.innerList8.splice(_,1,d);case 26:i=!0,t.next=6;break;case 29:t.next=35;break;case 31:t.prev=31,t.t1=t.catch(4),n=!0,r=t.t1;case 35:t.prev=35,t.prev=36,!i&&s.return&&s.return();case 38:if(t.prev=38,!n){t.next=41;break}throw r;case 41:return t.finish(38);case 42:return t.finish(35);case 43:e.buttonInnerCreate8Loading=!1;case 44:case"end":return t.stop()}},t,e,[[4,31,35,43],[12,21],[36,,38,42]])}))()},resetSumDeliveryParams:function(){this.sum_logistics_type_id=void 0,this.sum_logistics_type_code=void 0,this.sum_warehouse_extra_id=void 0,this.sum_warehouse_extra=void 0},handleSumDeliveryOrders:function(){this.resetSumDeliveryParams(),this.innerDialogFormVisible9=!0},resetSumLogisticsNumber:function(){var e=this;this.productDeliverExtraOptions=[],this.sum_logistics_type_code=this.logisticsTypeOptions[this.logisticsTypeOptions.findIndex(function(t){return t.id===e.sum_logistics_type_id})].code,this.sum_warehouse_extra_id=void 0,this.getSumWarehouseLogisticsExtraList(" ")},getSumWarehouseLogisticsExtraList:function(){var e=this;Object(p.q)().then(function(t){var i=t.data.data;if(i instanceof Array&&!(i.length<=0)){var n=i[0].id;e.productDeliverExtraLoading=!0,Object(p.r)({order_logistics_type_id:e.sum_logistics_type_id,warehouse_id:n}).then(function(t){e.productDeliverExtraOptions=t.data,e.productDeliverExtraLoading=!1,e.productDeliverExtraOptions instanceof Array&&e.productDeliverExtraOptions.length>0&&(e.sum_warehouse_extra_id=e.productDeliverExtraOptions[0].id,e.sum_warehouse_extra=e.productDeliverExtraOptions[0],e.productDeliverExtraOptions.length>1&&(e.needSelectExtra=!0))})}else e.$message({type:"info",message:"仓库信息配置错误"})})},handleCheckAllChange:function(e){var t=!!e;this.sumDisabled=!t;var i=!0,n=!1,r=void 0;try{for(var s,o=a()(this.list);!(i=(s=o.next()).done);i=!0){var l=s.value,d=this.list.indexOf(l);l.is_checked=t,this.list.splice(d,1,l)}}catch(e){n=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(n)throw r}}this.checkAll=t,this.isIndeterminate=!1},handleCheckedOrdersChange:function(e,t){var i=0,n=!0,r=!1,s=void 0;try{for(var o,l=a()(this.list);!(n=(o=l.next()).done);n=!0){var d=o.value;if(d.id===t.id){var c=this.list.indexOf(d);d.is_checked=e,this.list.splice(c,1,d)}!0===d.is_checked&&i++}}catch(e){r=!0,s=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw s}}this.sumDisabled=i<=0,this.checkAll=i===this.list.length,this.isIndeterminate=i>0&&i<this.list.length},handleCommand:function(e){"onlyDelivery"===e?this.createInnerData3(0,0):"onlyEmptyStock"===e&&this.createInnerData3(1,0)},handleSumCommand:function(e){"onlySumDelivery"===e&&this.sumDeliveryOrdersAndPrint(0)},handleClick:function(e,t){this.listQuery.status="","all"!==e.name&&(this.listQuery.status=parseInt(e.name)),this.handleFilter()},rowStyle1:function(){return"min-height: 160px;"},cellStyle1:function(e){e.row,e.column,e.rowIndex;if(0===e.columnIndex)return"padding: 0px;border-bottom:none;"},cellStyle2:function(e){e.row,e.column,e.rowIndex;if(0===e.columnIndex)return"border-right:none;"},getWarehouseLogisticsExtraList:function(){var e=this;this.productDeliverExtraLoading=!0,Object(p.r)({order_logistics_type_id:this.innerTemp3.logistics_type_id,warehouse_id:this.innerTemp3.warehouse_id}).then(function(t){e.productDeliverExtraOptions=t.data,e.productDeliverExtraLoading=!1,e.productDeliverExtraOptions instanceof Array&&e.productDeliverExtraOptions.length>0&&(e.innerTemp3.warehouse_logistics_extra_id=e.productDeliverExtraOptions[0].id,e.innerTemp3.warehouse_logistics_extra=e.productDeliverExtraOptions[0],e.productDeliverExtraOptions.length>1&&(e.needSelectExtra=!0))})},resetLogisticsNumber:function(){var e=this;this.productDeliverExtraOptions=[],this.innerTemp3.logistics_type_code=this.logisticsTypeOptions[this.logisticsTypeOptions.findIndex(function(t){return t.id===e.innerTemp3.logistics_type_id})].code,this.innerTemp3.logistics_number="",this.innerTemp3.dest_code=void 0,this.innerTemp3.dest_extra_code=void 0,this.innerTemp3.warehouse_logistics_extra_id=void 0,this.getWarehouseLogisticsExtraList(" ")},getOrdersCountInfo:function(){var e=this;Object(m.r)({}).then(function(t){e.today_orders=t.data.today_orders,e.need_delivery=t.data.need_delivery})},printOrders:function(e){Object(m.K)({orders_id:e.id}),Object(g.a)(e)},queryLogisticsTypeList:function(){var e=this;this.queryLogisticsTypeLoading=!0,Object(m.v)().then(function(t){e.logisticsTypeOptions=t.data.data,e.queryLogisticsTypeLoading=!1})},getList:function(){var e=this;this.tableLoading="filtered",Object(m.u)(this.listQuery).then(function(t){e.list=t.data.data,e.total=t.data.total;var i=!0,n=!1,r=void 0;try{for(var s,o=a()(e.list);!(i=(s=o.next()).done);i=!0){var l=s.value,d=e.list.indexOf(l);l.is_checked=!1,e.list.splice(d,1,l)}}catch(e){n=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(n)throw r}}e.tableLoading=""})},handleFilter:function(){this.listQuery.page=1,this.getList(),this.getOrdersCountInfo()},handleLogisitcsNumberFilter:function(){this.listQuery.page=1,this.getList(),this.getOrdersCountInfo()},handleSizeChange:function(e){this.listQuery.page_size=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleDeliverOrders:function(e,t){var i={orders_id:e.id,is_empty:t};Object(m.l)(i).then(function(i){e.status=0===t?3:4}).catch(function(){})},handleDestoryOrders:function(e){var t=this;this.$confirm("此操作将永久删除该订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={orders_id:e.id};Object(m.n)(t).then(function(t){e.status=9}).catch(function(){})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleOpenInner2:function(e){this.innerTableVisible2=!0,this.innerTableTitle2=e.orders_unique_id+" -- 备注",this.temp=r()({},e)},expandRow:function(e,t){this.expandList=t.map(function(e){return e.id}),console.log(this.expandList)},handleInnerSizeChange3:function(e){this.innerListQuery3.page_size=e,this.getInnerList3()},handleInnerCurrentChange3:function(e){this.innerListQuery3.page=e,this.getInnerList3()},getInnerList3:function(){var e=this;this.innerListQuery3.orders_id=this.temp.id,this.innerListLoading3=!0,Object(m.w)(this.innerListQuery3).then(function(t){e.innerList3=t.data.data,e.innerTotal3=t.data.total,e.innerListLoading3=!1})},handleOpenInner3:function(e){this.innerTableVisible3=!0,this.innerTableTitle3=e.orders_unique_id+" -- 订单日志",this.temp=r()({},e),this.getInnerList3()},resetInnerTemp2:function(){this.innerTemp2={}},handleInnerCreate2:function(){var e=this;this.resetInnerTemp2(),this.dialogStatus="create",this.innerDialogFormVisible2=!0,this.$nextTick(function(){e.$refs.innerDataForm1.clearValidate()})},createInnerData2:function(){var e=this;this.$refs.innerDataForm2.validate(function(t){t&&(e.btnLoading=!0,e.innerTemp2.orders_id=e.temp.id,Object(m.f)(e.innerTemp2).then(function(t){e.innerTotal2++,e.innerTemp2.id=t.data.id,e.innerTemp2.status=1,e.innerTemp2.type_name=t.data.type_name,e.innerTemp2.updated_at=t.data.updated_at,e.temp.orders_remarks.push(e.innerTemp2),e.innerDialogFormVisible2=!1,e.btnLoading=!1,e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})}).catch(function(){e.btnLoading=!1}))})},handleInnerDelete2:function(e){var t=this;this.$confirm("确定删除此备注?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=r()({},e);i.orders_remark_id=e.id,Object(m.j)(i).then(function(n){t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),i.status=0;var r=t.temp.orders_remarks.indexOf(e);t.temp.orders_remarks.splice(r,1,i)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},resetInnerTemp3:function(){this.innerTemp3={id:void 0,warehouse_id:void 0,warehouse_logistics_extra_id:void 0,logistics_type_id:void 0,logistics_type_code:"",logistics_number:"",dest_code:"",dest_extra_code:""}},handleInnerUpdate3:function(e){this.temp=r()({},e),this.dialogStatus="update",this.innerDialogFormVisible3=!0,null!==e.orders_logistics?(this.innerTemp3=r()({},e.orders_logistics),this.innerTemp3.warehouse_id=this.temp.warehouse_id,this.innerTemp3.logistics_type_code=e.orders_logistics.orders_logistics_type.code):(this.resetInnerTemp3(),this.innerTemp3.warehouse_id=this.temp.warehouse_id)},sumPrint:function(){var e=this;return c()(l.a.mark(function t(){var i,n,r,s,o,d,c;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(i=Object(y.a)())&&void 0!==i.VERSION){t.next=4;break}return e.$message({type:"info",message:"请先安装lodop控件"}),t.abrupt("return");case 4:t.prev=4,e.logisticsDialogLoading=!0,n=!0,r=!1,s=void 0,t.prev=9,o=a()(e.list);case 11:if(n=(d=o.next()).done){t.next=20;break}if(!(c=d.value).is_checked){t.next=17;break}return t.next=16,Object(m.K)({orders_id:c.id});case 16:Object(h.a)(c);case 17:n=!0,t.next=11;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(9),r=!0,s=t.t0;case 26:t.prev=26,t.prev=27,!n&&o.return&&o.return();case 29:if(t.prev=29,!r){t.next=32;break}throw s;case 32:return t.finish(29);case 33:return t.finish(26);case 34:t.next=38;break;case 36:t.prev=36,t.t1=t.catch(4);case 38:return t.prev=38,e.checkAll=!1,e.isIndeterminate=!1,e.logisticsDialogLoading=!1,t.finish(38);case 43:case"end":return t.stop()}},t,e,[[4,36,38,43],[9,22,26,34],[27,,29,33]])}))()},resetSumTask:function(){this.sumTotalTask=0,this.sumRemainTask=0,this.sumSuccessTask=0,this.sumFailedTask=0},sumDeliveryOrdersAndPrint:function(e){var t=this;return c()(l.a.mark(function i(){var n,r,s,o,d,c,u,_,p,g,v,f,b,x,w,k,T,L,S,D,O,C;return l.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!e){i.next=5;break}if(null!=(n=Object(y.a)())&&void 0!==n.VERSION){i.next=5;break}return t.$message({type:"info",message:"请先安装lodop控件"}),i.abrupt("return");case 5:for(t.resetSumTask(),r=!0,s=!1,o=void 0,i.prev=9,d=a()(t.list);!(r=(c=d.next()).done);r=!0)c.value.is_checked&&(t.sumTotalTask+=1,t.sumRemainTask+=1);i.next=17;break;case 13:i.prev=13,i.t0=i.catch(9),s=!0,o=i.t0;case 17:i.prev=17,i.prev=18,!r&&d.return&&d.return();case 20:if(i.prev=20,!s){i.next=23;break}throw o;case 23:return i.finish(20);case 24:return i.finish(17);case 25:t.innerDialogFormVisible9=!1,t.innerDialogFormVisible10=!0,t.logisticsDialogLoading=!0,u=!0,_=!1,p=void 0,i.prev=31,g=a()(t.list);case 33:if(u=(v=g.next()).done){i.next=102;break}if(!(f=v.value).is_checked){i.next=99;break}if(i.prev=36,b={},b.orders_id=f.id,b.logistics_type_id=t.sum_logistics_type_id,b.warehouse_extra_id=t.sum_warehouse_extra_id,x=null,"1001"!==t.sum_logistics_type_code){i.next=48;break}return i.next=45,Object(m.z)(b);case 45:x=i.sent,i.next=68;break;case 48:if("1006"!==t.sum_logistics_type_code){i.next=54;break}return i.next=51,Object(m.B)(b);case 51:x=i.sent,i.next=68;break;case 54:if("1009"!==t.sum_logistics_type_code){i.next=60;break}return i.next=57,Object(m.s)(b);case 57:x=i.sent,i.next=68;break;case 60:if("1012"!==t.sum_logistics_type_code){i.next=66;break}return i.next=63,Object(m.C)(b);case 63:x=i.sent,i.next=68;break;case 66:return t.$message({type:"info",message:"不支持批量操作的物流方式"}),i.abrupt("break",102);case 68:if(null!==x){i.next=71;break}return t.$message({type:"info",message:"获取物流单号信息错误"}),i.abrupt("continue",99);case 71:return b.logistics_number=x.data.logistics_number,b.dest_code=x.data.dest_code,b.dest_extra_code=x.data.dest_extra_code,i.next=76,Object(m.I)(b);case 76:return i.next=78,Object(m.l)({orders_id:f.id,is_empty:0});case 78:if(f.orders_logistics={},f.orders_logistics.orders_logistics_type={},f.orders_logistics.logistics_number=x.data.logistics_number,f.orders_logistics.orders_logistics_type.code=t.sum_logistics_type_code,f.orders_logistics.dest_code=x.data.dest_code,f.orders_logistics.dest_extra_code=x.data.dest_extra_code,f.orders_logistics.product_deliver_extra=t.sum_warehouse_extra,!e){i.next=89;break}return i.next=88,Object(m.K)({orders_id:f.id});case 88:Object(h.a)(f);case 89:t.sumSuccessTask+=1,i.next=96;break;case 92:i.prev=92,i.t1=i.catch(36),console.log(i.t1.message),t.sumFailedTask+=1;case 96:return i.prev=96,t.sumRemainTask-=1,i.finish(96);case 99:u=!0,i.next=33;break;case 102:i.next=108;break;case 104:i.prev=104,i.t2=i.catch(31),_=!0,p=i.t2;case 108:i.prev=108,i.prev=109,!u&&g.return&&g.return();case 111:if(i.prev=111,!_){i.next=114;break}throw p;case 114:return i.finish(111);case 115:return i.finish(108);case 116:return t.checkAll=!1,t.isIndeterminate=!1,t.logisticsDialogLoading=!1,i.next=121,Object(m.u)(t.listQuery);case 121:for(w=i.sent,t.getOrdersCountInfo(),t.list=w.data.data,t.total=w.data.total,k=!0,T=!1,L=void 0,i.prev=128,S=a()(t.list);!(k=(D=S.next()).done);k=!0)O=D.value,C=t.list.indexOf(O),O.is_checked=!1,t.list.splice(C,1,O);i.next=136;break;case 132:i.prev=132,i.t3=i.catch(128),T=!0,L=i.t3;case 136:i.prev=136,i.prev=137,!k&&S.return&&S.return();case 139:if(i.prev=139,!T){i.next=142;break}throw L;case 142:return i.finish(139);case 143:return i.finish(136);case 144:case"end":return i.stop()}},i,t,[[9,13,17,25],[18,,20,24],[31,104,108,116],[36,92,96,99],[109,,111,115],[128,132,136,144],[137,,139,143]])}))()},createInnerData3:function(e,t){var i=this;return c()(l.a.mark(function n(){var r,s,o,d,c,u,_,p,g,h,v,f,b;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=5;break}if(null!=(r=Object(y.a)())&&void 0!==r.VERSION){n.next=5;break}return i.$message({type:"info",message:"请先安装lodop控件"}),n.abrupt("return");case 5:if(n.prev=5,i.logisticsDialogLoading=!0,s={},s.orders_id=i.temp.id,s.warehouse_extra_id=i.innerTemp3.warehouse_logistics_extra_id,o=null,"1001"!==i.innerTemp3.logistics_type_code){n.next=17;break}return n.next=14,Object(m.z)(s);case 14:o=n.sent,n.next=33;break;case 17:if("1006"!==i.innerTemp3.logistics_type_code){n.next=23;break}return n.next=20,Object(m.B)(s);case 20:o=n.sent,n.next=33;break;case 23:if("1009"!==i.innerTemp3.logistics_type_code){n.next=29;break}return n.next=26,Object(m.s)(s);case 26:o=n.sent,n.next=33;break;case 29:if("1012"!==i.innerTemp3.logistics_type_code){n.next=33;break}return n.next=32,Object(m.C)(s);case 32:o=n.sent;case 33:return null!==o&&(i.innerTemp3.logistics_number=o.data.logistics_number,i.innerTemp3.dest_code=o.data.dest_code,i.innerTemp3.dest_extra_code=o.data.dest_extra_code),d=i.innerTemp3,d.orders_id=i.temp.id,d.warehouse_extra_id=i.innerTemp3.warehouse_logistics_extra_id,n.next=39,Object(m.I)(d);case 39:return c={orders_id:i.temp.id,is_empty:e},n.next=42,Object(m.l)(c);case 42:return n.next=44,Object(m.u)(i.listQuery);case 44:for(u=n.sent,i.getOrdersCountInfo(),i.list=u.data.data,i.total=u.data.total,_=!0,p=!1,g=void 0,n.prev=51,h=a()(i.list);!(_=(v=h.next()).done);_=!0)f=v.value,b=i.list.indexOf(f),f.is_checked=!1,i.list.splice(b,1,f);n.next=59;break;case 55:n.prev=55,n.t0=n.catch(51),p=!0,g=n.t0;case 59:n.prev=59,n.prev=60,!_&&h.return&&h.return();case 62:if(n.prev=62,!p){n.next=65;break}throw g;case 65:return n.finish(62);case 66:return n.finish(59);case 67:i.temp.orders_logistics={logistics_number:i.innerTemp3.logistics_number},void 0!==i.innerTemp3.logistics_type_code&&null!==i.innerTemp3.logistics_type_code&&(i.temp.orders_logistics.orders_logistics_type={code:i.innerTemp3.logistics_type_code}),void 0!==i.innerTemp3.dest_code&&null!==i.innerTemp3.dest_code&&(i.temp.orders_logistics.dest_code=i.innerTemp3.dest_code),void 0!==i.innerTemp3.dest_extra_code&&null!==i.innerTemp3.dest_extra_code&&(i.temp.orders_logistics.dest_extra_code=i.innerTemp3.dest_extra_code),void 0!==i.innerTemp3.warehouse_logistics_extra&&null!==i.innerTemp3.warehouse_logistics_extra&&(i.temp.orders_logistics.product_deliver_extra=i.innerTemp3.warehouse_logistics_extra),t&&i.printOrders(i.temp),i.logisticsDialogLoading=!1,i.innerDialogFormVisible3=!1,i.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3}),n.next=82;break;case 78:n.prev=78,n.t1=n.catch(5),console.log(n.t1.message),i.logisticsDialogLoading=!1;case 82:case"end":return n.stop()}},n,i,[[5,78],[51,55,59,67],[60,,62,66]])}))()},downExcel:function(){var e=document.createElement("form");e.action="https://warehouse.api.7055.net.cn/api/orders/downloadNeedDeliveredOrders?token="+this.$store.state.user.token,e.method="post",e.style.display="none";var t=document.createElement("input"),i=document.createElement("input"),n=document.createElement("input"),r=document.createElement("input"),s=document.createElement("input"),a=document.createElement("input"),o=document.createElement("input"),l=document.createElement("input"),d=document.createElement("input"),c=document.createElement("input");if(null!==this.listQuery.date_range&&void 0!==this.listQuery.date_range&&""!==this.listQuery.date_range){var u=document.createElement("input"),_=document.createElement("input");u.name="date_range[0]",u.value=this.listQuery.date_range[0],_.name="date_range[1]",_.value=this.listQuery.date_range[1],e.appendChild(u),e.appendChild(_);var p=new Date(u.value),m=new Date(_.value).getTime()-p.getTime();if(parseInt(m/864e5)>31)this.$message({type:"info",message:"最多只能导出30天数据"});else{t.name="status",t.value=this.listQuery.status,i.name="orders_unique_id",i.value=this.listQuery.orders_unique_id,n.name="orders_logistics_number",n.value=this.listQuery.orders_logistics_number,r.name="support_user_account_group_id",r.value=this.listQuery.support_user_account_group_id,s.name="support_member_nickname",s.value=this.listQuery.support_member_nickname,a.name="product_weixin_id",a.value=this.listQuery.product_weixin_id,o.name="product_name",o.value=this.listQuery.product_name,l.name="weixin_fans_address_receive_name",l.value=this.listQuery.weixin_fans_address_receive_name,d.name="weixin_fans_address_phone",d.value=this.listQuery.weixin_fans_address_phone,c.name="remark",c.value=this.listQuery.remark,e.appendChild(t),e.appendChild(i),e.appendChild(n),e.appendChild(r),e.appendChild(s),e.appendChild(a),e.appendChild(o),e.appendChild(l),e.appendChild(d),e.appendChild(c);var g=document.createElement("input");g.type="submit",e.appendChild(g),document.body.appendChild(e),e.submit(),document.body.removeChild(e)}}else this.$message({type:"info",message:"请选择时间区间"})},handlePreview:function(e){console.log(1)},handleRemove:function(e,t){console.log(e,t)},handleOnProgress:function(e,t,i){},handleExceed:function(e,t){this.$message.warning("当前限制选择1个文件")},handlePictureSuccess:function(e,t,i){this.innerListLoading8=!1,this.fileList=[],this.fileList.push(t),200===e.code?this.innerList8=e.data:(this.$message.error(e.errstr),this.innerList8=null)},handleOpenInner8:function(){this.innerList8=null,this.fileList=[],this.innerTableVisible8=!0}},deactivated:function(){this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop},activated:function(){window.scrollTo(0,this.scrollTop)}}),k={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container calendar-list-container"},["success"===this.scanStatus?i("el-alert",{attrs:{title:"发货成功",type:"success",center:"",description:"成功通过扫码发货， 请不要重复扫描同一条形码","show-icon":""}}):e._e(),e._v(" "),"error"===this.scanStatus?i("el-alert",{attrs:{title:"订单信息错误",type:"error",center:"",description:"订单状态错误， 不能操作发货， 请人工核对订单是否已发货","show-icon":""}}):e._e(),e._v(" "),"warning"===this.scanStatus?i("el-alert",{attrs:{title:"查找不到对应订单",type:"warning",center:"",description:"系统没有此单号对应订单， 请人工核对订单信息是否为此系统订单","show-icon":""}}):e._e(),e._v(" "),i("div",{staticClass:"filter-container"},[""!==e.listQuery.orders_logistics_number?i("p",{staticStyle:{"text-align":"center","font-size":"60px",width:"100%"}},[e._v("\n      物流单号： "+e._s(e.listQuery.orders_logistics_number)+"\n    ")]):i("p",{staticStyle:{"text-align":"center","font-size":"60px",width:"100%"}},[e._v("请使用扫码枪扫描条形码")])]),e._v(" "),i("div",{class:e.tableLoading},e._l(e.list,function(t){return i("div",{key:t.id},[i("div",{staticStyle:{border:"1px solid #ebeef5",width:"100%","line-height":"20px",padding:"15px 20px","background-color":"#f7f8fa","margin-bottom":"-1px",color:"#323233"}},[i("div",{staticStyle:{float:"left",display:"table-cell","line-height":"30px"}},[i("el-checkbox",{on:{change:function(i){e.handleCheckedOrdersChange(i,t)}},model:{value:t.is_checked,callback:function(i){e.$set(t,"is_checked",i)},expression:"orders.is_checked"}}),e._v(" "),i("span",[e._v("订单号： "+e._s(t.orders_unique_id))]),e._v(" "),i("span",{staticStyle:{"margin-left":"20px"}},[e._v("下单时间： "+e._s(t.created_at))]),e._v(" "),i("span",{staticStyle:{"margin-left":"20px"}},[e._v("发货时间： "+e._s(t.delivered_at))])],1),e._v(" "),i("div",{staticStyle:{clear:"both"}})]),e._v(" "),i("el-table",{key:e.tableKey2,staticStyle:{width:"100%"},attrs:{"show-header":e.hideTableHeader,data:[t],"element-loading-text":"给我一点时间",border:"",fit:"","row-style":e.rowStyle1,"cell-style":e.cellStyle1}},[i("el-table-column",{attrs:{"min-width":"22",align:"center",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(e){}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",label:"商品","min-width":"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-table",{key:e.tableKey2,staticStyle:{width:"100%",border:"none","margin-bottom":"-2px"},attrs:{"show-header":e.hideTableHeader,"cell-style":e.cellStyle2,data:t.row.orders_items,"element-loading-text":"给我一点时间",fit:""}},[i("el-table-column",{attrs:{align:"left",label:"商品"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("p",{staticClass:"my-form-p"},[e._v("\n                    "+e._s(t.row.product_goods.goods_name)+" x "+e._s(t.row.number)+"\n                    "),"0"!==t.row.product_goods.unit&&null!==t.row.product_goods.unit?i("span",[e._v("("+e._s(t.row.product_goods.unit)+")")]):e._e()])]}}])})],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{"min-width":"200",align:"center",label:"收货人"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("p",{staticClass:"link-type",staticStyle:{padding:"0",margin:"0","text-align":"left"},attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.orders_receiver_info.receive_name)+"("+e._s(t.row.orders_receiver_info.phone)+")")]),e._v(" "),i("p",{staticStyle:{padding:"0",margin:"0","text-align":"left"}},[e._v(e._s(t.row.orders_receiver_info.province_name+" "+t.row.orders_receiver_info.city_name+" "+(void 0!==t.row.orders_receiver_info.district_name?t.row.orders_receiver_info.district_name:"")+" "+t.row.orders_receiver_info.address))])]}}])}),e._v(" "),i("el-table-column",{attrs:{"min-width":"125",align:"center",label:"发货仓"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v("\n              "+e._s(t.row.warehouse.name)+"\n            ")]),e._v(" "),i("br"),e._v(" "),t.row.orders_logistics?i("div",[i("span",[t.row.orders_logistics.orders_logistics_type.name?i("el-tag",{staticStyle:{height:"20px","line-height":"20px"},attrs:{type:"warning"}},[e._v("\n                "+e._s(t.row.orders_logistics.orders_logistics_type.name)+"\n              ")]):e._e()],1),e._v(" "),i("br"),e._v(" "),i("span",[i("span",{staticClass:"link-type"},[e._v(e._s(t.row.orders_logistics.logistics_number))])])]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{"min-width":"100",align:"center",label:"订单金额/代收金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v("￥"+e._s(t.row.actual_pay))]),i("br"),e._v(" "),e._l(t.row.orders_payment.orders_payment_items,function(t){return i("span",{class:2===t.status?e.if_deleted:""},["cash_on_delivery"===t.orders_pay_type.type_code&&t.paid_money>0?i("span",[i("el-tag",{staticStyle:{height:"20px","line-height":"20px"},attrs:{type:"danger"}},[e._v("代收"+e._s(t.paid_money))])],1):e._e()])})]}}])}),e._v(" "),i("el-table-column",{attrs:{"min-width":"80",align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("orderStatusTranslator")(t.row.status))),i("br"),e._v(" "),null!==t.row.orders_logistics&&t.row.orders_logistics.print_times>0?i("span",[i("el-tag",{staticStyle:{height:"20px","line-height":"20px"},attrs:{type:"danger"}},[e._v("已打印"+e._s(t.row.orders_logistics.print_times)+"次")])],1):null!==t.row.orders_logistics?i("span",[i("el-tag",{staticStyle:{height:"20px","line-height":"20px"},attrs:{type:"success"}},[e._v("待打印")])],1):e._e()]}}])})],1),e._v(" "),t.orders_remarks.length>0?i("div",{staticStyle:{"background-color":"#fffaeb",border:"1px solid #ebeef5",width:"100%","line-height":"10px",padding:"14px 10px 14px 20px",color:"#f90","font-size":"14px","margin-top":"-1px"}},e._l(t.orders_remarks,function(t){return i("span",[1===t.status?i("span",[e._v(e._s(t.type_name)+"：")]):e._e(),e._v(" "),1===t.status?i("span",[e._v(e._s(t.remark)+"    ")]):e._e()])})):e._e(),e._v(" "),i("br")],1)})),e._v(" "),i("el-dialog",{attrs:{title:e.innerTableTitle2,visible:e.innerTableVisible2,width:"90%"},on:{"update:visible":function(t){e.innerTableVisible2=t}}},[i("div",{staticClass:"filter-container",attrs:{align:"right"}},[i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{align:"right",type:"primary",icon:"el-icon-edit"},on:{click:e.handleInnerCreate2}},[e._v("添加\n      ")])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.innerListLoading2,expression:"innerListLoading2"}],key:e.innerTableKey2,staticStyle:{width:"100%"},attrs:{data:e.temp.orders_remarks,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"序号",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),i("el-table-column",{attrs:{width:"100px",align:"center",label:"用户身份"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"link-type"},[e._v(e._s(t.row.type_name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{"min-width":"100px",align:"center",label:"内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{class:0===t.row.status?e.if_deleted:"link-type"},[e._v(e._s(t.row.remark))])]}}])}),e._v(" "),i("el-table-column",{attrs:{width:"180px",align:"center",label:"添加时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.updated_at))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"220","class-name":"small-padding"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){e.handleInnerDelete2(t.row)}}},[e._v("删除\n          ")]):e._e()]}}])})],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.innerTableTitle3,visible:e.innerTableVisible3,width:"90%"},on:{"update:visible":function(t){e.innerTableVisible3=t}}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.innerListLoading3,expression:"innerListLoading3"}],key:e.innerTableKey3,staticStyle:{width:"100%"},attrs:{data:e.innerList3,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"序号","min-width":"65"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作人","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.nickname))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"具体操作","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.action_desc))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"时间","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.created_at))])]}}])})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.innerListLoading1,expression:"!innerListLoading1"}],staticClass:"pagination-container"},[i("el-pagination",{attrs:{background:"","current-page":e.innerListQuery3.page,"page-sizes":[10,20,50,100],"page-size":e.innerListQuery3.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.innerTotal3},on:{"size-change":e.handleInnerSizeChange3,"current-change":e.handleInnerCurrentChange3,"update:currentPage":function(t){e.$set(e.innerListQuery3,"page",t)}}})],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.innerDialogFormVisible2,width:"50%"},on:{"update:visible":function(t){e.innerDialogFormVisible2=t}}},[i("el-form",{ref:"innerDataForm2",staticStyle:{width:"80%","margin-left":"10%"},attrs:{rules:e.innerRules2,model:e.innerTemp2,"label-position":"left","label-width":"80px"}},[i("el-form-item",{attrs:{label:"备注信息",prop:"remark"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:15},placeholder:"请输入内容"},model:{value:e.innerTemp2.remark,callback:function(t){e.$set(e.innerTemp2,"remark",t)},expression:"innerTemp2.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.innerDialogFormVisible2=!1}}},[e._v("取 消")]),e._v(" "),"create"==e.dialogStatus?i("el-button",{attrs:{loading:e.btnLoading,type:"primary"},on:{click:e.createInnerData2}},[e._v("确 定")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.innerDialogFormVisible3,width:"70%"},on:{"update:visible":function(t){e.innerDialogFormVisible3=t}}},[i("el-form",{ref:"innerDataForm3",staticStyle:{width:"80%","margin-left":"10%"},attrs:{rules:e.innerRules3,model:e.innerTemp3,"label-position":"left","label-width":"80px"}},[i("el-form-item",{attrs:{label:"物流名称",prop:"orders_logistics_type.code"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{"value-key":"id",clearable:"",filterable:"",remote:"",placeholder:"请选物流名称","remote-method":e.queryLogisticsTypeList,loading:e.queryLogisticsTypeLoading},on:{change:e.resetLogisticsNumber},model:{value:e.innerTemp3.logistics_type_id,callback:function(t){e.$set(e.innerTemp3,"logistics_type_id",t)},expression:"innerTemp3.logistics_type_id"}},e._l(e.logisticsTypeOptions,function(e){return i("el-option",{key:e.code,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),"1001"!==e.innerTemp3.logistics_type_code&&"1006"!==e.innerTemp3.logistics_type_code&&"1009"!==e.innerTemp3.logistics_type_code&&"1012"!==e.innerTemp3.logistics_type_code||!e.needSelectExtra?e._e():i("el-form-item",{attrs:{label:"额外信息",prop:"product_deliver_extra_id"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选额外信息",loading:e.productDeliverExtraLoading},model:{value:e.innerTemp3.warehouse_logistics_extra_id,callback:function(t){e.$set(e.innerTemp3,"warehouse_logistics_extra_id",t)},expression:"innerTemp3.warehouse_logistics_extra_id"}},e._l(e.productDeliverExtraOptions,function(e){return i("el-option",{key:e.id,attrs:{label:e.description,value:e.id}})}))],1),e._v(" "),"1001"!==e.innerTemp3.logistics_type_code&&"1006"!==e.innerTemp3.logistics_type_code&&"1009"!==e.innerTemp3.logistics_type_code&&"1012"!==e.innerTemp3.logistics_type_code?i("el-form-item",{attrs:{label:"物流单号",prop:"logistics_number"}},[i("el-input",{attrs:{disabled:"1001"===e.innerTemp3.logistics_type_code||"1009"===e.innerTemp3.logistics_type_code},model:{value:e.innerTemp3.logistics_number,callback:function(t){e.$set(e.innerTemp3,"logistics_number",t)},expression:"innerTemp3.logistics_number"}})],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.innerDialogFormVisible3=!1}}},[e._v("取 消")]),e._v(" "),e.logisticsDialogLoading?i("el-button",{attrs:{type:"primary",loading:e.logisticsDialogLoading}},[e._v("确认发货并打印订单")]):e._e(),e._v(" "),e.logisticsDialogLoading?e._e():i("el-dropdown",{attrs:{trigger:"click",placement:"top-end","split-button":"",type:"primary"},on:{click:function(t){e.createInnerData3(0,1)},command:e.handleCommand}},[e._v("\n        确认发货并打印订单\n        "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"onlyDelivery"}},[e._v("确认发货")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"onlyEmptyStock"}},[e._v("断货中")])],1)],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.imageDialogVisible},on:{"update:visible":function(t){e.imageDialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.publicImageUrl}})]),e._v(" "),i("el-dialog",{attrs:{title:e.innerTableTitle8,visible:e.innerTableVisible8},on:{"update:visible":function(t){e.innerTableVisible8=t}}},[i("div",{staticClass:"filter-container"},[i("el-upload",{attrs:{action:e.baseUrl,headers:e.uploadHeaders,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.handlePictureSuccess,"on-progress":e.handleOnProgress,name:"excel","show-file-list":!0,limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传物流单号")])],1)],1),e._v(" "),null!==e.innerList8?i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.innerListLoading8,expression:"innerListLoading8"}],key:e.innerTableKey8,staticStyle:{width:"100%"},attrs:{data:e.innerList8,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{"min-width":"100px",align:"center",label:"所属订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"link-type"},[e._v(e._s(t.row.orders_unique_id))])]}}])}),e._v(" "),i("el-table-column",{attrs:{"min-width":"220px",align:"center",label:"物流信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",[e._v(e._s(t.row.orders_logistics_type_name))]),e._v(" "),i("span",[e._v(e._s(t.row.orders_logistics_number))])]}}])}),e._v(" "),i("el-table-column",{attrs:{"min-width":"200px",align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{type:e._f("logisticsNumberImportStatusFilter")(t.row.status)}},[e._v("\n            "+e._s(e._f("logisticsNumberImportStatusTranslator")(t.row.status))+"\n          ")])]}}])})],1):e._e(),e._v(" "),null!==e.innerList8?i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{loading:e.buttonInnerCreate8Loading,disabled:null===e.innerList8||e.innerList8.length<1,type:"primary"},on:{click:e.createInnerData8}},[e._v("确认上传物流单号")])],1):e._e()],1),e._v(" "),i("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.innerDialogFormVisible9,width:"70%"},on:{"update:visible":function(t){e.innerDialogFormVisible9=t}}},[i("el-form",{ref:"innerDataForm9",staticStyle:{width:"80%","margin-left":"10%"},attrs:{"label-position":"left","label-width":"80px"}},[i("el-form-item",{attrs:{label:"物流名称",prop:"orders_logistics_type.code"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{"value-key":"id",clearable:"",filterable:"",remote:"",placeholder:"请选物流名称","remote-method":e.queryLogisticsTypeList,loading:e.queryLogisticsTypeLoading},on:{change:e.resetSumLogisticsNumber},model:{value:e.sum_logistics_type_id,callback:function(t){e.sum_logistics_type_id=t},expression:"sum_logistics_type_id"}},e._l(e.logisticsTypeOptions,function(e){return i("el-option",{key:e.code,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),"1001"!==e.sum_logistics_type_code&&"1006"!==e.sum_logistics_type_code&&"1009"!==e.sum_logistics_type_code&&"1012"!==e.sum_logistics_type_code||!e.needSelectExtra?e._e():i("el-form-item",{attrs:{label:"额外信息",prop:"product_deliver_extra_id"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选额外信息",loading:e.productDeliverExtraLoading},model:{value:e.sum_warehouse_extra_id,callback:function(t){e.sum_warehouse_extra_id=t},expression:"sum_warehouse_extra_id"}},e._l(e.productDeliverExtraOptions,function(e){return i("el-option",{key:e.id,attrs:{label:e.description,value:e.id}})}))],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.innerDialogFormVisible9=!1}}},[e._v("取 消")]),e._v(" "),e.logisticsDialogLoading?i("el-button",{attrs:{type:"primary",loading:e.logisticsDialogLoading}},[e._v("确认发货并打印订单")]):e._e(),e._v(" "),e.logisticsDialogLoading?e._e():i("el-dropdown",{attrs:{trigger:"click",placement:"top-end","split-button":"",type:"primary"},on:{click:function(t){e.sumDeliveryOrdersAndPrint(1)},command:e.handleSumCommand}},[e._v("\n        确认发货并打印订单\n        "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"onlySumDelivery"}},[e._v("确认发货")])],1)],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.innerDialogFormVisible10,width:"40%"},on:{"update:visible":function(t){e.innerDialogFormVisible10=t}}},[i("p",[e._v("批量任务数量: "+e._s(e.sumTotalTask))]),e._v(" "),i("p",[e._v("待执行数量: "+e._s(e.sumRemainTask))]),e._v(" "),i("p",[e._v("成功数量: "),i("span",{staticStyle:{color:"green"}},[e._v(e._s(e.sumSuccessTask))])]),e._v(" "),i("p",[e._v("错误数量: "),i("span",{staticStyle:{color:"red"}},[e._v(e._s(e.sumFailedTask))])]),e._v(" "),i("el-progress",{attrs:{"text-inside":!0,"stroke-width":24,percentage:e.sumTaskPercentage,status:"success"}})],1),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",height:"0"}},[i("defs",[i("filter",{attrs:{id:"f1"}},[i("feGaussianBlur",{attrs:{stdDeviation:"3"}})],1)])])],1)},staticRenderFns:[]},T=i("/Xao")(w,k,!1,function(e){i("WHfq")},"data-v-2d2b388e",null);t.default=T.exports},Fx3j:function(e,t,i){(e.exports=i("UTlt")(!1)).push([e.i,"\n.el-tag[data-v-2d2b388e]{\n  height: 24px;\n  line-height: 22px;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 0 4px;\n}\n.el-form--inline .el-form-item__content[data-v-2d2b388e] {\n  width: 85%;\n  padding: 5px 15% 0px 0px;\n}\n.demo-table-expand[data-v-2d2b388e] {\n  font-size: 0;\n}\n.demo-table-expand label[data-v-2d2b388e] {\n  width: 15%;\n  color: #5e81bf;\n  font-size: 16px;\n}\n.my-edit-type[data-v-2d2b388e], .my-edit-type[data-v-2d2b388e]:focus {\n  color: #288ccb;\n  cursor: pointer;\n}\n.demo-table-expand .el-form-item[data-v-2d2b388e] {\n  margin-right: 0;\n  margin-bottom: 15px;\n  width: 49%;\n  margin-left: 1%;\n}\n.my-form-p[data-v-2d2b388e] {\n  margin: 0;\n  padding: 0;\n  line-height: 30px;\n  color: #7d3d3d;\n}\n.label-span[data-v-2d2b388e] {\n  font-weight: bold;\n  color: #5e81bf;\n}\n.deleted-p[data-v-2d2b388e] {\n  -webkit-text-decoration: crimson underline overline line-through;\n          text-decoration: crimson underline overline line-through;\n  text-decoration: underline overline line-through;\n}\n.logBtn[data-v-2d2b388e] {\n  float: right;\n  margin-right: 50px;\n}\n.grid-content[data-v-2d2b388e] {\n  text-align: left;\n  background-color:#edf2f9;\n  color:#323233;\n  padding: 15px 25px;\n}\n.filtered[data-v-2d2b388e] {\n  -webkit-filter: url(#f1);\n  filter: url(#f1);\n}\n",""])},WHfq:function(e,t,i){var n=i("Fx3j");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i("8bSs")("0bf0a27e",n,!0)}});