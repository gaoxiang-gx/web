webpackJsonp([13],{ARoL:function(e,t,a){"use strict";function n(e){return Object(d.a)({url:"/api/overview/getWeixinFansRecordData",method:"post",data:e})}Object.defineProperty(t,"__esModule",{value:!0});var o=a("Dd8w"),r=a.n(o),i=a("0xDb"),s=a("NYxO"),d=a("vLgD"),l=a("Z5Fx"),c={name:"dashboard",data:function(){return{tableKey:0,list:null,total:null,listLoading:!0,listQuery:{date_time:Object(i.a)((new Date).setTime((new Date).getTime()-864e5),"{y}-{m}-{d}")},screen:6,chart:null,today_delivered_orders_count:0,need_delivery_orders_count:0,yestday_add_count_total:0,yestday_consult_count_total:0,today_add_count_total:0,today_consult_count_total:0,delivered_date:void 0,warehouseQuery:[Object(i.a)((new Date).getTime(),"{y}-{m}-{d}"),Object(i.a)((new Date).getTime(),"{y}-{m}-{d}")],warehouseData_X:[],warehouseData_Y:[],pickerOptions1:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]}}},filters:{timeIntervalFilter:function(e){return{0:"info",1:"warning",2:"primary"}[e]},timeIntervalTranslator:function(e){return{0:"休班",1:"白班",2:"晚班"}[e]}},props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object}},computed:r()({},Object(s.b)(["name","roles"])),mounted:function(){this.initWarehouseLine()},created:function(){this.getWarehouseLine()},methods:{getList:function(){var e=this;this.listLoading=!0,"administrator"!==this.$store.state.user.roles&&"promotionGroup"!==this.$store.state.user.roles&&"promotionManager"!==this.$store.state.user.roles&&"promotion"!==this.$store.state.user.roles||function(e){return Object(d.a)({url:"/api/overview/getWeixinRecordUnfilledList",method:"post",data:e})}(this.listQuery).then(function(t){e.list=t.data,e.listLoading=!1})},handleFilter:function(){this.getList()},ifShowNum:function(){"administrator"!==this.$store.state.user.roles&&(this.screen=12)},getCount:function(){var e=this;"administrator"!==this.$store.state.user.roles&&"warehouse"!==this.$store.state.user.roles||function(e){return Object(d.a)({url:"/api/overview/getWarehouseStatisticsData",method:"post",data:e})}({}).then(function(t){e.today_delivered_orders_count=t.data.today_delivered_orders_count,e.need_delivery_orders_count=t.data.need_delivery_orders_count})},getYestdayAddFanTotal:function(){var e=this,t=new Date;t.setTime(t.getTime()-864e5);var a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();"administrator"!==this.$store.state.user.roles&&"promotionGroup"!==this.$store.state.user.roles&&"promotionManager"!==this.$store.state.user.roles&&"promotion"!==this.$store.state.user.roles||n({date_time:a}).then(function(t){e.yestday_add_count_total=t.data.add_count_total,e.yestday_consult_count_total=t.data.consult_count_total})},getTodayAddFanTotal:function(){var e=this,t=new Date,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();"administrator"!==this.$store.state.user.roles&&"promotionGroup"!==this.$store.state.user.roles&&"promotionManager"!==this.$store.state.user.roles&&"promotion"!==this.$store.state.user.roles||n({date_time:a}).then(function(t){e.today_add_count_total=t.data.add_count_total,e.today_consult_count_total=t.data.consult_count_total})},getWarehouseLine:function(){var e=this;Object(l.n)({date_range:this.warehouseQuery}).then(function(t){e.warehouseData_X=t.data.map(function(e){return e.logistics_name}),e.warehouseData_Y=t.data.map(function(e){return e.count}),console.log(e.warehouseData_X),console.log(e.warehouseData_Y),e.initWarehouseLine()})},myPromotionLine:function(){var e=this.$echarts.init(document.getElementById("myPromotionChart"));e.showLoading(),e.setOption({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:["加粉成本","加粉数"]},xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"加粉成本",min:0,max:250,interval:50,axisLabel:{formatter:"{value}"}},{type:"value",name:"加粉数量",min:0,max:50,interval:5,axisLabel:{formatter:"{value}"}}],series:[{name:"加粉成本",type:"bar",data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,32.6,20,6.4,3.3]},{name:"加粉数",type:"line",yAxisIndex:1,data:[2,2.2,3.3,4.5,6.3,10.2,20.3,23.4,23,16.5,12,6.2]}]}),e.hideLoading(),window.addEventListener("resize",function(){setTimeout(function(){e.resize()},500)})},initWarehouseLine:function(){var e=this.$echarts.init(document.getElementById("myWarehouseChart"));e.setOption({title:{text:"物流发货数",textStyle:{color:"#c23531"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["发货数"]},calculable:!0,xAxis:[{type:"category",name:"快递",data:this.warehouseData_X}],yAxis:[{type:"value"}],series:[{name:"发货数",type:"bar",data:this.warehouseData_Y,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]}}]}),window.addEventListener("resize",function(){setTimeout(function(){e.resize()},500)})},mySupportLine:function(){var e=this.$echarts.init(document.getElementById("mySupportChart"));e.setOption({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:["成单金额","平均成交金额"]},xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"成单金额",min:0,max:15e3,interval:1e3,axisLabel:{formatter:"{value}"}},{type:"value",name:"平均成交金额",min:0,max:15e3,interval:1e3,axisLabel:{formatter:"{value}"}}],series:[{name:"成单金额",type:"line",yAxisIndex:1,data:[1e3,5200,900,4500,6e3,1e4,5622,1833,7e3,4622,9422,1520]},{name:"平均成交金额",type:"line",yAxisIndex:1,data:[5e3,8623,10029,7852,6325,2566,9855,1233,7e3,4622,9422,1520]}]}),window.addEventListener("resize",function(){setTimeout(function(){e.resize()},500)})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"rowBox",staticClass:"panel-group",attrs:{gutter:20}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:e.screen}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{staticClass:"svg_icon",attrs:{"icon-class":"pending_delivery"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("待发货")]),e._v(" "),a("div",{staticClass:"card-panel-text"},[e._v(e._s(e.need_delivery_orders_count))])])])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:e.screen}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{staticClass:"svg_icon",attrs:{"icon-class":"already_shipped"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("当日已发货")]),e._v(" "),a("div",{staticClass:"card-panel-text"},[e._v(e._s(e.today_delivered_orders_count))])])])])],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("el-col",{attrs:{span:24}},[a("div",{style:{height:e.height,width:e.width},attrs:{id:"myPromotionChart"}})])],1),e._v(" "),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("el-date-picker",{attrs:{type:"daterange",clearable:!1,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.getWarehouseLine},model:{value:e.warehouseQuery,callback:function(t){e.warehouseQuery=t},expression:"warehouseQuery"}}),e._v(" "),a("el-col",{attrs:{span:24}},[a("div",{style:{width:"100%",height:"400px"},attrs:{id:"myWarehouseChart"}})])],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("el-col",{attrs:{span:24}},[a("div",{style:{width:"100%",height:"400px"},attrs:{id:"mySupportChart"}})])],1)],1)},staticRenderFns:[]},u=a("VU/8")(c,p,!1,function(e){a("OzBm")},null,null);t.default=u.exports},IMhl:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,'/*.el-table thead{color:#878d99 !important;font-weight:500 !important;}*/\n.dashboard-editor-container {\n  padding: 20px;\n  background-color: #f0f2f5;\n}\n.dashboard-editor-container .panel-group .card-panel-col {\n    margin-bottom: 20px;\n}\n.dashboard-editor-container .panel-group .card-panel {\n    height: 110px;\n    cursor: pointer;\n    font-size: 12px;\n    position: relative;\n    overflow: hidden;\n    color: #666;\n    background: #fff;\n    -webkit-box-shadow: 4px 4px 40px rgba(0, 0, 0, 0.05);\n            box-shadow: 4px 4px 40px rgba(0, 0, 0, 0.05);\n    border-color: rgba(0, 0, 0, 0.05);\n}\n.dashboard-editor-container .panel-group .card-panel:hover .card-panel-icon-wrapper {\n      color: #fff;\n}\n.dashboard-editor-container .panel-group .card-panel:hover .icon-score {\n      background: #ffe600;\n}\n.dashboard-editor-container .panel-group .card-panel:hover .icon-people {\n      background: #40c9c6;\n}\n.dashboard-editor-container .panel-group .card-panel:hover .icon-message {\n      background: #36a3f7;\n}\n.dashboard-editor-container .panel-group .card-panel:hover .icon-money {\n      background: #f4516c;\n}\n.dashboard-editor-container .panel-group .card-panel:hover .icon-shoppingCard {\n      background: #34bfa3;\n}\n.dashboard-editor-container .panel-group .card-panel .icon-people {\n      color: #40c9c6;\n}\n.dashboard-editor-container .panel-group .card-panel .icon-score {\n      color: #ffe600;\n}\n.dashboard-editor-container .panel-group .card-panel .icon-message {\n      color: #36a3f7;\n}\n.dashboard-editor-container .panel-group .card-panel .icon-money {\n      color: #f4516c;\n}\n.dashboard-editor-container .panel-group .card-panel .icon-shoppingCard {\n      color: #34bfa3;\n}\n.dashboard-editor-container .panel-group .card-panel .card-panel-icon-wrapper {\n      float: left;\n      margin: 14px 0 0 14px;\n      padding: 16px;\n      -webkit-transition: all 0.38s ease-out;\n      transition: all 0.38s ease-out;\n      border-radius: 6px;\n}\n.dashboard-editor-container .panel-group .card-panel .card-panel-icon-wrapper .svg_icon {\n        font-size: 55px;\n}\n.dashboard-editor-container .panel-group .card-panel .card-panel-icon {\n      float: left;\n      font-size: 48px;\n}\n.dashboard-editor-container .panel-group .card-panel .card-panel-description {\n      float: right;\n      width: 50%;\n      font-weight: bold;\n      margin: 26px 0 26px 0;\n}\n.dashboard-editor-container .panel-group .card-panel .card-panel-description .card-panel-text {\n        line-height: 18px;\n        color: rgba(0, 0, 0, 0.45);\n        font-size: 16px;\n        margin-bottom: 12px;\n}\n.dashboard-editor-container .panel-group .card-panel .card-panel-description .card-panel-num {\n        font-size: 20px;\n}\n.dashboard-editor-container #table .el-table thead {\n    color: #878d99;\n    font-weight: 500;\n    font-size: 14px;\n}\n.dashboard-editor-container #table .el-table .cell {\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    white-space: normal;\n    word-break: break-all;\n    line-height: 23px;\n}\n.dashboard-editor-container #table .el-table th {\n    white-space: nowrap;\n    overflow: hidden;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    text-align: left;\n}\n.dashboard-editor-container #table .el-table td.is-center, .dashboard-editor-container #table .el-table th.is-center {\n    text-align: center;\n}\n.dashboard-editor-container #table medium th {\n    padding: 10px 0;\n}\n.dashboard-editor-container #table .el-table {\n    color: #686060;\n    font-size: 12px !important;\n}\n.icon-tianjiahaoyou:before {\n  content: "\\E7AA";\n  font-size: 45px;\n}\n',""])},OzBm:function(e,t,a){var n=a("IMhl");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("f1ce4282",n,!0)}});